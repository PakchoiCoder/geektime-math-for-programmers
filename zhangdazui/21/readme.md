# 21 | 概率基础（下）：联合概率、条件概率和贝叶斯法则，这些概率公式究竟能做什么？

示例：

| 分数 | 0-60 | 60-70 | 70-80 | 80-90 | 90-100 |
| ---- | ---- | ----- | ----- | ----- | ----- |
| 男生 | 10%  | 10%   | 10%   | 10%   | 10%    |
| 女生 | 10%  | 10%   | 10%   | 10%   | 10%    |

## 联合概率、边缘概率和条件概率

**联合概率：** 由多个变量决定的概率就是联合概率。比如 班级里面男生考90分以上的概率。就由 男生 和 90分 两个变量控制 。联合概率表示为 P(x,y)

**边缘概率：** 对于离散型随机变量，我们可以通过通过联合概率 P(x, y) 在 y 上求和，就可以得到 P(x)。对于连续型随机变量，我们可以通过联合概率 P(x, y) 在 y 上的积分，推导出概率 P(x)。

**条件概率：** 由多个随机变量决定。同时会给定一个或多个随机变量的情况下，另一个或多个随机变量出现的概率。

示例： 给定随机变量 x, 随机变量 y 的条件概率表示为 P(x|y)

## 贝叶斯定理

**主要的应用场景：** 通过先验概率，推导出后验概率。

**先验概率：** 从数据资料统计得到的，不需要经过贝叶斯定理的推算。

**后验概率：** 经过贝叶斯定理的推算


## 随机变量之间的独立性

最上面的示例，可以看到 p(男生 | 90-100) = p(男生 | 80-90) = p(男生 | 70-80) = … = p(男生) = 50%，也就是说考分区间对性别没有影响。这种情况下我们就说性别和分数这两个随机变量是相互独立的。

随机变量相互独立可以将联合概率 p(x1​, x2​, x3​, x4​, x5​, x6​) 转换为 p(x1​) * p(x2​) * p(x3​) * p(x4​) * p(x5​) * p(x6​)。

在实际项目中，我们会假设多个随机变量是相互独立的，并基于这个假设大幅简化计算，降低对数据统计量的要求。虽然这个假设通常是不成立的，但是仍然可以帮助我们得到近似的解。

## 思考题

Q: 大年三十晚上，爷爷奶奶发红包。爷爷准备的红包是 4 个 50 元的，6 个 100 元的。奶奶准备的红包是 8 个 50 元的，4 个 100 元的。全家人随机抽，你运气很好，拿到一个 100 元的红包。请问这个红包来自爷爷的概率有多少？来自奶奶的概率有多少？

A: P(100) = 10/22 
   
   p(爷爷| 100) = 6/10

   p(奶奶| 100) = 4/10