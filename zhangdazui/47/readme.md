# 47 | 搜索引擎（上）：如何通过倒排索引和向量空间模型，打造一个简单的搜索引擎？

搜索引擎的两个问题： 搜索效率和搜索相关性。

搜索引擎的倒排索引（哈希表设计）可以提升数据对象的检索效率

以利用向量空间模型，来衡量文档和用户查询之间的相似程度，确保两者是相关的。

## 搜索引擎的设计框架

2 个重要模块：离线的预处理和在线的查询。

1. 离线预处理也就是我们通常所说的“索引”阶段，包括数据获取、文本预处理、词典和倒排索引的构建、相关性模型的数据统计等。
2. 查询一般都会使用和离线模块一样的预处理，词典也是沿用离线处理的结果。当然，也可能会出现离线处理中未曾出现过的新词，我们一般会忽略或给予非常小的权重。在此基础上，系统根据用户输入的查询条件，在倒排索引中快速检出文档，并进行相关性的计算。

## 倒排索引的设计

两个要点值得考虑：第一个是倒排索引里具体存储什么内容，第二个就是多个关键词的查询结果如何取交集。

## 向量空间和倒排索引的结合

模型假设所有的对象都可以转化为向量，然后使用向量间的距离（通常是欧氏距离）或者是向量间的夹角余弦来表示两个对象之间的相似程度。