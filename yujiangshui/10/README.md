# 10 | 动态规划（下）：如何求得状态转移方程并进行编程实现？

## 什么时候该用动态规划？这个问题可以用动态规划解决啊，为什么我没想到？

首先，如果一个问题有很多种可能，看上去需要使用排列或组合的思想，但是最终求的只是某种最优解（例如最小值、最大值、最短子串、最长子串等等），那么你不妨试试是否可以使用动态规划。

其次，状态转移方程是个关键。你可以用**状态转移表**（即将各种状态罗列出来）来帮助自己理解整个过程。如果能找到准确的转移方程，那么离最终的代码实现就不远了。

## 案例

### 钱币组合问题

国王需要支付一定数量的赏金，而宰相要列出所有可能的钱币组合，这使用了排列组合的思想。如果这个问题再变化为“给定总金额和可能的钱币面额（2，3，7），能否找出钱币数量最少的奖赏方式？”，那么我们是否就可以使用动态规划呢？

抽象问题：

解决这个问题，可以将问题简化为针对当前总额，查看是否有一种钱币使其可以变为 0，如果没有则分别尝试减掉对应货币并加一次货币数量，之后将剩余的钱继续这个流程。

之后每一轮的结果，只获取上钱币最少数量的方案，累加当前的方案。之后可以得到一个状态转移表：

![](https://static001.geekbang.org/resource/image/e7/58/e78354fe2f577d07649882fed69bd358.png)

之后计算相关的值，比如总额为 10 的时候，最少钱币数，就可以计算 10-2=8、10-3=7、10-7=3 的对应最小钱币数，然后得到 3 和 7 最少，两张就可以了。
