# 11 | 树的深度优先搜索（上）：如何才能高效率地查字典？

## 基础概念

- 无向树：简单回路的连通图
- 有向树：它的边是有方向的
  - V 的出度：以结点 V 为出发点的边的数量
  - V 的入度：以结点 V 为重点的边的数量
  - 需要满足以下条件：
    - 有且仅有一个结点的入度为 0，这个结点被称为根；
    - 除根以外的所有结点，入度都为 1。从树根到任一结点有且仅有一条有向通路。
  - 其他概念：父结点、子结点、兄弟结点、先辈结点、后辈结点、叶子结点、结点的高度或深度、树的高度或深度
- 混合图：即含有向边，又含无向边的图

- 通路：结点和边交替序列组成，任意两个结点互为连通
- 回路：特殊的通路，如果起始点 V1 和 终止点 Vn 相同
- 通路的长度：起始点到终止点所经过的边之数量

- 树是特殊的图，它是没有简单回路的连通无向图

## 前缀树的构建和查询

### 构建前缀树

切割单词，组成树。新加入的单词切割，找到最后一个相同的位置，分叉创建树。

### 查询前缀树

切割单词顺着一个结点一个结点查找，注意几个特殊情况：

1. 没到叶子结点单词已经没了，说明不匹配。
2. 到了叶子结点，单词还有，说明不匹配。
3. 搜索过程中被查单词有匹配不上的结点，说明不匹配。

相当于不断重复迭代的查找过程，叫做深度优先搜索。

到了某个点，发现和这个点直接相连的所有点都已经被访问过，那么就回退到在这个点的父结点，继续查看是否有新的点可以访问；如果没有就继续回退，一直到出发点。由于单棵树中所有的结点都是连通的，所以通过深度优先的策略可以遍历树中所有的结点，因此也被称为深度优先遍历。

## 其他

### 二叉树

每个结点最多有两个子树的树结构。

### 满二叉树

满二叉树是一棵高度为 n（高度从 1 开始计），且有 2^n-1 个结点的二叉树。在高度为 k(0<k≤n）的这一层上，结点的数量为 2^(k-1)。如果把树的根标为 0，每个结点的左子结点标为 0，每个结点的右子结点标为 1，那么把根到叶子结点的所有 0 或 1 连起来，就正好对应一个二进制数。

### 应用场景

> 来自评论

1. 预测文本输入功能：搜索引擎的输入框中输入搜索关键词的预测文本提示、IDE 代码编辑器和浏览器网址中输入时的预测文本提示，借助老师讲的前两节动态规划实现预测文本的纠错功能；
2. 使用前缀树结构对字符串或单词按字母顺序实现排序并进行输出的功能；
3. 前缀树也可用于实现近似匹配，包括拼写检查和连字软件使用的算法；
