# 35 | 文本检索：如何让计算机处理自然语言？

## 信息检索

信息检索就是让计算机根据用户信息需求，从大规模、非结构化的数据中，找出相关的资料。

信息检索中，相关性的计算是最关键的步骤。最简单的模型是不二模型，查看是否有关键词，如果有就是相关的，否则不相关。

向量空间模型更复杂也更合理，将文档转换为向量，然后比较向量之间的距离或者近似程度。通常使用词包（Bag of Word）的方式，忽略顺序简化计算复杂度。这样就变成了向量运算。

## 在信息检索中应用向量空间模型的步骤

1. 文档集合转换成向量的形式。
2. 用户查询转换成向量的形式，然后与所有文档的向量进行比对，计算出基于距离或者夹角余弦的相似度。
3. 根据查询找到相似度最高的文档，认为是最相关的。
4. 评估检查结果的相关性。

### 将文档转换为特征向量

任何向量都有两个主要的构成要素：维度和取值。

简单的说我们可以把文章中唯一的单词或者词组，作为向量的一个维度。

经过各种分词的处理，我们可以拿到构建整个文档集合的词典，每个词条作为向量的一个维度。

有了维度然后来设计这个值，最简单的是 1 表示出现在当前文档，0 表示没有，但是没法考虑权重，所以可以使用词频 \* 逆文档频率来改进。

词频就是出现的越多，表示这个文档越相关。

逆文档频率就是整个集合中，出现某个词 t 的文档数量越少，说明 t 在这几个文档中越相关。

### 查询和文档的匹配

用户输入的查询语句也要进行一定的转换处理，然后针对不同情况有一些优化方法：

1. 查询和文档长度不一致。输入的都是关键词等，这样可以补齐词典中所有词，但是设置值为 0 来进行运算。
2. 查询出现了文档集合没有的词。可以直接过滤掉或者用极小的值。
3. 查询里词条的 idf 该如何计算。可以借用文档集合里对应词条的 idf。

之后计算查询的向量和所有文档的向量，计算之间的距离或者夹角余弦，然后排序和评估返回信息。

## 思考题

需要更新。
